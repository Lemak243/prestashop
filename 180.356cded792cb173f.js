"use strict";(self.webpackChunkawesome_components=self.webpackChunkawesome_components||[]).push([[180],{5180:(q,g,m)=>{m.r(g),m.d(g,{SocialMediaModule:()=>k});var c=m(6814),u=m(3403),_=m(7398),t=m(5879);var I=m(9862);let d=(()=>{class o{constructor(e){this.http=e}getPosts(){return this.http.get("http://localhost:3000/posts")}addNewComment(e){console.log(e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(I.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var n=m(6825),p=m(6223);const P=(0,n.oQ)([(0,n.vP)([(0,n.jt)("{{ time }}",(0,n.oB)({"background-color":"{{ flashColor }}"})),(0,n.jt)("{{ time }}",(0,n.oB)({"background-color":"white"}))])]),w=(0,n.oQ)([(0,n.oB)({transform:"translateX(-100%)",opacity:0,"background-color":"{{ startColor }}"}),(0,n.jt)("{{ time }} ease-out",(0,n.oB)({transform:"translateX(0)",opacity:1,"background-color":"white"}))]);var f=m(1919),x=m(2296),L=m(617),Z=m(9157),M=m(2032);let C=(()=>{class o{constructor(){this.timeDiffs={minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}transform(e){const r=Date.now()-new Date(e).getTime();return r<this.timeDiffs.minute?"Il y a quelques secondes":r<this.timeDiffs.hour?"Il y a quelques minutes":r<this.timeDiffs.day?"Il y a quelques heures":r<this.timeDiffs.week?"Il y a quelques jours":r<this.timeDiffs.month?"Il y a quelques semaines":r<this.timeDiffs.year?"Il y a quelques mois":"Il y a plus d'un an"}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"timeAgo",type:o,pure:!0}),o})();function S(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item",6),t.NdJ("mouseenter",function(){const r=t.CHM(e).index,h=t.oxw(2);return t.KtG(h.onListItemMouseEnter(r))})("mouseleave",function(){const r=t.CHM(e).index,h=t.oxw(2);return t.KtG(h.onListItemMouseLeave(r))}),t.TgZ(1,"span",7),t._uU(2),t.qZA(),t.TgZ(3,"span",8),t._uU(4),t.ALo(5,"timeAgo"),t.qZA()()}if(2&o){const e=i.$implicit,s=i.index,a=t.oxw(2);t.Q6J("@listItem",a.animationStates[s]),t.xp6(2),t.hij(" ",e.comment," "),t.xp6(2),t.hij(" ",t.lcZ(5,3,e.createdDate)," ")}}function T(o,i){if(1&o&&(t.TgZ(0,"mat-list")(1,"h2",4),t._uU(2,"Commentaire"),t.qZA(),t.YNc(3,S,6,5,"mat-list-item",5),t.qZA()),2&o){const e=t.oxw();t.Q6J("@list",void 0),t.xp6(3),t.Q6J("ngForOf",e.comments)}}let A=(()=>{class o{constructor(e){this.formBuilder=e,this.newComment=new t.vpe,this.animationStates={}}ngOnInit(){this.commentCtrl=this.formBuilder.control("",[p.kI.required,p.kI.minLength(10)]);for(let e in this.comments)this.animationStates[e]="default"}onLeaveComment(){if(this.commentCtrl.invalid)return;const e=Math.max(...this.comments.map(s=>s.id));this.comments.unshift({id:e+1,comment:this.commentCtrl.value,createdDate:(new Date).toISOString(),userId:1}),this.newComment.emit(this.commentCtrl.value),this.commentCtrl.reset()}onListItemMouseEnter(e){this.animationStates[e]="active"}onListItemMouseLeave(e){this.animationStates[e]="default"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-comments"]],inputs:{comments:"comments"},outputs:{newComment:"newComment"},decls:7,vars:2,consts:[[1,"comments-row"],["type","text","matInput","","placeholder","Laissez un commentaire...",3,"formControl"],["mat-icon-button","","color","primary",3,"click"],[4,"ngIf"],["matSubheader",""],[3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[3,"mouseenter","mouseleave"],["mat-line","",1,"comment-text"],["mat-line","",1,"comment-date"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"mat-form-field"),t._UZ(2,"input",1),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return s.onLeaveComment()}),t.TgZ(4,"mat-icon"),t._uU(5,"send"),t.qZA()()(),t.YNc(6,T,4,2,"mat-list",3)),2&e&&(t.xp6(2),t.Q6J("formControl",s.commentCtrl),t.xp6(4),t.Q6J("ngIf",s.comments.length))},dependencies:[c.sg,c.O5,f.i$,f.Tg,f.gs,x.RK,L.Hw,Z.KE,M.Nt,p.Fj,p.JJ,p.oH,C],styles:["mat-list-item[_ngcontent-%COMP%]{border-bottom:thin solid #555}.comments-row[_ngcontent-%COMP%]{display:flex;border-top:thin solid #555;padding-top:10px;justify-content:space-around;align-items:center}mat-form-field[_ngcontent-%COMP%]{width:90%}"],data:{animation:[(0,n.X$)("list",[(0,n.eR)(":enter",[(0,n.IO)("@listItem",[(0,n.EY)(100,[(0,n.pV)()])])])]),(0,n.X$)("listItem",[(0,n.SB)("default",(0,n.oB)({transform:"scale(1)","background-color":"white","z-index":1})),(0,n.SB)("active",(0,n.oB)({transform:"scale(1.05)","background-color":"rgb(201, 157, 242)","z-index":2})),(0,n.eR)("default => active",[(0,n.jt)("100ms ease-in-out")]),(0,n.eR)("active => default",[(0,n.jt)("500ms ease-in-out")]),(0,n.eR)("void => *",[(0,n.IO)(".comment-text, .comment-date",[(0,n.oB)({opacity:0})]),(0,n.ru)([(0,n._7)(P,{params:{time:"250ms",flashColor:"rgb(249,179,111)"}}),(0,n.IO)(".comment-text",[(0,n.jt)("250ms",(0,n.oB)({opacity:1}))]),(0,n.IO)(".comment-date",[(0,n.jt)("500ms",(0,n.oB)({opacity:1}))])]),(0,n._7)(w,{params:{time:"500ms",startColor:"rgb(201,157,242)"}}),(0,n.IO)("span",[(0,n.jt)("500ms",(0,n.oB)({opacity:1}))])])])]}}),o})();var l=m(5195);let B=(()=>{class o{constructor(e,s){this.el=e,this.renderer=s,this.color="yellow"}ngAfterViewInit(){this.setBackgroundColor(this.color)}setBackgroundColor(e){this.renderer.setStyle(this.el.nativeElement,"background-color",e)}onMouseEnter(){this.setBackgroundColor("lightgreen")}onMouseLeave(){this.setBackgroundColor(this.color)}onClick(){this.color="lightgreen"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(t.Qsj))},o.\u0275dir=t.lG2({type:o,selectors:[["","highlight",""]],hostBindings:function(e,s){1&e&&t.NdJ("mouseenter",function(){return s.onMouseEnter()})("mouseleave",function(){return s.onMouseLeave()})("click",function(){return s.onClick()})},inputs:{color:"color"}}),o})(),j=(()=>{class o{transform(e,s=50){return e.length<=s?e:e.substring(0,s)+"..."}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"shorten",type:o,pure:!0}),o})(),F=(()=>{class o{transform(e,s="fr"){return"fr"===s?`${e.lasteName.toUpperCase()} ${e.firstName}`:`${e.firstName} ${e.lasteName}`}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"username",type:o,pure:!0}),o})();function O(o,i){if(1&o&&t._UZ(0,"img",4),2&o){const e=i.ngIf,s=t.oxw();t.Q6J("src",e,t.LSH)("alt",s.post.title)}}let U=(()=>{class o{constructor(){this.postCommented=new t.vpe,this.tempUser={firstName:"Yves",lasteName:"makwambala"}}ngOnInit(){}onNewComment(e){this.postCommented.emit({comment:e,postId:this.post.id})}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-post-list-item"]],inputs:{post:"post"},outputs:{postCommented:"postCommented"},decls:20,vars:16,consts:[["highlight","","color","red"],["mat-card-image","",3,"src","alt",4,"ngIf"],[1,"post-content"],[3,"comments","newComment"],["mat-card-image","",3,"src","alt"]],template:function(e,s){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title")(3,"span",0),t._uU(4),t.ALo(5,"titlecase"),t.qZA()(),t.TgZ(6,"mat-card-subtitle")(7,"p"),t._uU(8),t.ALo(9,"username"),t.qZA(),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"timeAgo"),t.qZA()()(),t.TgZ(13,"mat-card-content"),t.YNc(14,O,1,2,"img",1),t.TgZ(15,"span",2),t._uU(16),t.ALo(17,"shorten"),t.qZA()(),t.TgZ(18,"mat-card-actions")(19,"app-comments",3),t.NdJ("newComment",function(r){return s.onNewComment(r)}),t.qZA()()()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,6,s.post.title)," "),t.xp6(4),t.hij(" ",t.xi3(9,8,s.tempUser,"en")," "),t.xp6(3),t.hij(" ",t.lcZ(12,11,s.post.createdDate)," "),t.xp6(3),t.Q6J("ngIf",s.post.imageUrl),t.xp6(2),t.hij(" ",t.xi3(17,13,s.post.content,100)," "),t.xp6(3),t.Q6J("comments",s.post.comments))},dependencies:[c.O5,A,l.a8,l.hq,l.dn,l.dk,l.G2,l.$j,l.n5,B,c.rS,j,F,C],styles:["mat-card[_ngcontent-%COMP%]{margin-bottom:20px}img[_ngcontent-%COMP%]{width:100%}.post-content[_ngcontent-%COMP%]{margin-top:10px}"]}),o})();function N(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"app-post-list-item",1),t.NdJ("postCommented",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onPostCommented(a))}),t.qZA()}2&o&&t.Q6J("post",i.$implicit)}let D=(()=>{class o{constructor(e,s){this.route=e,this.postsServce=s}ngOnInit(){this.posts$=this.route.data.pipe((0,_.U)(e=>e.posts))}onPostCommented(e){this.postsServce.addNewComment(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.gz),t.Y36(d))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-post-list"]],decls:4,vars:3,consts:[[3,"post","postCommented",4,"ngFor","ngForOf"],[3,"post","postCommented"]],template:function(e,s){1&e&&(t.TgZ(0,"h2"),t._uU(1,"Posts"),t.qZA(),t.YNc(2,N,1,1,"app-post-list-item",0),t.ALo(3,"async")),2&e&&(t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,1,s.posts$)))},dependencies:[c.sg,U,c.Ov],styles:["h2[_ngcontent-%COMP%]{color:#fff}"]}),o})(),v=(()=>{class o{constructor(e){this.postsService=e}resolve(e,s){return this.postsService.getPosts()}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(d))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();const H=[{path:"",component:D,resolve:{posts:v}}];let J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.Bz.forChild(H),u.Bz]}),o})();var Y=m(6208);let k=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[d,v],imports:[c.ez,J,Y.m]}),o})()}}]);