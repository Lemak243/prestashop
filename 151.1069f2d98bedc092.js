"use strict";(self.webpackChunkawesome_components=self.webpackChunkawesome_components||[]).push([[151],{2151:(y,d,a)=>{a.r(d),a.d(d,{ComplexFormRoutingModule:()=>b});var p=a(3403),u=a(6814),e=a(6223),f=a(9397),m=a(7398),h=a(7921),Z=a(5677);function C(o,n){return r=>{if(!r.get(o)||!r.get(n))return{confirmEqual:"Invalid control names"};const i=r.get(o).value,s=r.get(n).value;return i===s?null:{confirmEqual:{main:i,confirm:s}}}}var t=a(5879),l=a(5195),x=a(2296),c=a(9157),I=a(2032),g=a(7466),E=a(5940);function F(o,n){1&o&&(t.TgZ(0,"small",21),t._uU(1,"Les deux adresses ne correspondent pas"),t.qZA())}function T(o,n){if(1&o&&(t.TgZ(0,"mat-card",12)(1,"mat-card-subtitle"),t._uU(2,"Email"),t.qZA(),t.TgZ(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Adresse mail"),t.qZA(),t._UZ(7,"input",19),t.TgZ(8,"mat-error"),t._uU(9),t.qZA()(),t.TgZ(10,"mat-form-field",3)(11,"mat-label"),t._uU(12,"Confirmer votre adresse mail"),t.qZA(),t._UZ(13,"input",20),t.TgZ(14,"mat-error"),t._uU(15),t.qZA()()(),t.YNc(16,F,2,0,"small",16),t.ALo(17,"async"),t.qZA()),2&o){const r=t.oxw();t.Q6J("formGroup",r.emailForm),t.xp6(9),t.hij("",r.getFormControlErrorText(r.emailCtrl)," "),t.xp6(6),t.hij("",r.getFormControlErrorText(r.confirmEmailCtrl)," "),t.xp6(1),t.Q6J("ngIf",t.lcZ(17,4,r.showEmailError$))}}function A(o,n){if(1&o&&(t.TgZ(0,"mat-card",6)(1,"mat-card-subtitle"),t._uU(2,"T\xe9l\xe9phone"),t.qZA(),t.TgZ(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Num\xe9ro de t\xe9l\xe9phone"),t.qZA(),t._UZ(6,"input",22),t.TgZ(7,"mat-error"),t._uU(8),t.qZA()()()),2&o){const r=t.oxw();t.xp6(6),t.Q6J("formControl",r.phoneCtrl),t.xp6(2),t.hij(" ",r.getFormControlErrorText(r.phoneCtrl)," ")}}function U(o,n){1&o&&(t.TgZ(0,"small",21),t._uU(1,"Les mots de passe ne correspondent pas"),t.qZA())}function v(o,n){if(1&o){const r=t.EpF();t.TgZ(0,"mat-card-actions")(1,"button",23),t.NdJ("click",function(){t.CHM(r);const s=t.oxw();return t.KtG(s.onSubmitForm())}),t._uU(2,"ENREGISTRER"),t.qZA()()}if(2&o){const r=t.oxw();t.xp6(1),t.Q6J("disabled",r.loading)}}function q(o,n){1&o&&t._UZ(0,"mat-spinner",24)}const P=[{path:"",component:(()=>{class o{constructor(r){this.formBuilder=r,this.loading=!1}ngOnInit(){this.initFormcontrols(),this.initMainForm(),this.initFormObservables()}initFormcontrols(){this.personalInfoForm=this.formBuilder.group({firstName:["",e.kI.required],lastName:["",e.kI.required]}),this.contactPerferenceCtrl=this.formBuilder.control("email"),this.emailCtrl=this.formBuilder.control(""),this.confirmEmailCtrl=this.formBuilder.control(""),this.emailForm=this.formBuilder.group({email:this.emailCtrl,confirm:this.confirmEmailCtrl},{Validators:[C("email","confirm")],updateOne:"blur"}),this.phoneCtrl=this.formBuilder.control(""),this.passwordCtrl=this.formBuilder.control("",e.kI.required),this.confirmPasswordCtrl=this.formBuilder.control("",e.kI.required),this.loginInfoForm=this.formBuilder.group({username:["",e.kI.required],password:this.passwordCtrl,confirmPassword:this.confirmPasswordCtrl},{Validators:[C("password","confirmPassword")],updateOne:"blur"})}initMainForm(){this.mainForm=this.formBuilder.group({personalInfo:this.personalInfoForm,contactPerference:this.contactPerferenceCtrl,email:this.emailForm,phone:this.phoneCtrl,loginInfo:this.loginInfoForm})}initFormObservables(){this.showEmailCtrl$=this.contactPerferenceCtrl.valueChanges.pipe((0,h.O)(this.contactPerferenceCtrl.value),(0,m.U)(r=>"email"===r),(0,f.b)(r=>this.setEmailValidators(r))),this.showPhoneCtrl$=this.contactPerferenceCtrl.valueChanges.pipe((0,h.O)(this.contactPerferenceCtrl.value),(0,m.U)(r=>"phone"===r),(0,f.b)(r=>this.setPhoneValidators(r))),this.showEmailError$=this.emailForm.statusChanges.pipe((0,m.U)(r=>"INVALID"===r&&this.emailCtrl.value&&this.confirmEmailCtrl.value)),this.showPasswordError$=this.loginInfoForm.statusChanges.pipe((0,m.U)(r=>"INVALID"===r&&this.passwordCtrl.value&&this.confirmPasswordCtrl.value&&this.loginInfoForm.hasError("confirmEqual")))}setEmailValidators(r){r?(this.emailCtrl.addValidators([e.kI.required,e.kI.email]),this.confirmEmailCtrl.addValidators([e.kI.required,e.kI.email])):(this.emailCtrl.clearValidators(),this.confirmEmailCtrl.clearValidators()),this.emailCtrl.updateValueAndValidity(),this.confirmEmailCtrl.updateValueAndValidity()}setPhoneValidators(r){r?this.phoneCtrl.addValidators([e.kI.required,e.kI.minLength(10),e.kI.maxLength(10)]):this.phoneCtrl.clearValidators(),this.phoneCtrl.updateValueAndValidity()}onSubmitForm(){this.loading=!0}resetForm(){this.mainForm.reset(),this.contactPerferenceCtrl.patchValue("email")}getFormControlErrorText(r){return r.hasError("required")?"Ce champ est requis":r.hasError("email")?"Merci d'entrer une adresse mail valide":r.hasError("minlength")?"Ce num\xe9ro de t\xe9l\xe9phone ne contient pas assez de chiffres":r.hasError("maxlength")?"Ce num\xe9ro de t\xe9l\xe9phone contient trop de chiffres":"Ce champ contient une erreur"}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(e.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-complex-form"]],standalone:!0,features:[t.jDz],decls:57,vars:14,consts:[[1,"main-form",3,"formGroup"],["formGroupName","personalInfo",1,"form-card"],[1,"form-row"],["appearance","fill"],["type","text","matInput","","formControlName","firstName"],["type","text","matInput","","formControlName","lastName"],[1,"form-card"],[3,"formControl"],["value","email"],["value","phone"],["class","form-card",3,"formGroup",4,"ngIf"],["class","form-card",4,"ngIf"],[1,"form-card",3,"formGroup"],["type","text","matInput","","formControlName","username"],["type","password","matInput","","formControlName","password"],["type","password","matInput","","formControlName","confirmPassword"],["class","error-text",4,"ngIf"],[4,"ngIf"],["color","primary","mode","indeterminate",4,"ngIf"],["type","text","matInput","","formControlName","email"],["type","text","matInput","","formControlName","confirm"],[1,"error-text"],["type","text","matInput","",3,"formControl"],["mat-flat-button","","color","primary",3,"disabled","click"],["color","primary","mode","indeterminate"]],template:function(r,i){1&r&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title"),t._uU(2,"Inscription des nouveaux utilisateurs"),t.qZA(),t.TgZ(3,"mat-card",1)(4,"mat-card-subtitle"),t._uU(5,"Informationss personnelles"),t.qZA(),t.TgZ(6,"div",2)(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Pr\xe9nom"),t.qZA(),t._UZ(10,"input",4),t.TgZ(11,"mat-error"),t._uU(12,"Ce champ est requis"),t.qZA()(),t.TgZ(13,"mat-form-field",3)(14,"mat-label"),t._uU(15,"Nom"),t.qZA(),t._UZ(16,"input",5),t.TgZ(17,"mat-error"),t._uU(18,"Ce champ est requis"),t.qZA()()()(),t.TgZ(19,"mat-card",6)(20,"mat-card-subtitle"),t._uU(21,"Comment pr\xe9f\xe9rez-vous \xeatre contact\xe9(e) ?"),t.qZA(),t.TgZ(22,"mat-radio-group",7)(23,"mat-radio-button",8),t._uU(24,"Mail"),t.qZA(),t.TgZ(25,"mat-radio-button",9),t._uU(26,"T\xe9l\xe9phone"),t.qZA()()(),t.YNc(27,T,18,6,"mat-card",10),t.ALo(28,"async"),t.YNc(29,A,9,2,"mat-card",11),t.ALo(30,"async"),t.TgZ(31,"mat-card",12)(32,"mat-card-subtitle"),t._uU(33,"Informations de connexion"),t.qZA(),t.TgZ(34,"mat-form-field",3)(35,"mat-label"),t._uU(36,"Nom d'utilisateur"),t.qZA(),t._UZ(37,"input",13),t.TgZ(38,"mat-error"),t._uU(39,"Ce champ est requis"),t.qZA()(),t.TgZ(40,"div",2)(41,"mat-form-field",3)(42,"mat-label"),t._uU(43,"Mot de passe"),t.qZA(),t._UZ(44,"input",14),t.TgZ(45,"mat-error"),t._uU(46,"Ce champ est requis"),t.qZA()(),t.TgZ(47,"mat-form-field",3)(48,"mat-label"),t._uU(49,"Confirmer votre mot de passe"),t.qZA(),t._UZ(50,"input",15),t.TgZ(51,"mat-error"),t._uU(52,"Ce champ est requis"),t.qZA()()(),t.YNc(53,U,2,0,"small",16),t.ALo(54,"async"),t.qZA(),t.YNc(55,v,3,1,"mat-card-actions",17),t.YNc(56,q,1,0,"mat-spinner",18),t.qZA()),2&r&&(t.Q6J("formGroup",i.mainForm),t.xp6(22),t.Q6J("formControl",i.contactPerferenceCtrl),t.xp6(5),t.Q6J("ngIf",t.lcZ(28,8,i.showEmailCtrl$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(30,10,i.showPhoneCtrl$)),t.xp6(2),t.Q6J("formGroup",i.loginInfoForm),t.xp6(22),t.Q6J("ngIf",t.lcZ(54,12,i.showPasswordError$)),t.xp6(2),t.Q6J("ngIf",i.mainForm.valid),t.xp6(1),t.Q6J("ngIf",i.loading))},dependencies:[e.UX,e.Fj,e.JJ,e.JL,e.oH,e.sg,e.u,e.x0,Z.q,l.a8,l.hq,l.$j,l.n5,x.lW,c.KE,c.hX,c.TO,I.Nt,g.VQ,g.U0,E.Ou,u.ez,u.O5,u.Ov],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%}mat-form-field.full-width[_ngcontent-%COMP%]{width:80%;margin-left:10%}.form-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.form-card[_ngcontent-%COMP%]{margin:20px 0}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}mat-card-actions[_ngcontent-%COMP%]{text-align:center}.main-form[_ngcontent-%COMP%]{padding-bottom:30px;position:relative}.loading[_ngcontent-%COMP%]{position:absolute;inset:-10px;height:inherit;z-index:10;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center}.error-text[_ngcontent-%COMP%]{color:red}"]}),o})()}];let b=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(P),p.Bz]}),o})()}}]);